@model DownloadPhotosViewModel

@{
    ViewData["Title"] = "Index";
}

<h2>DownloadFromXml Photos</h2>

<h3>Choose supplier settings</h3>

<form asp-action="DownloadFromXml" method="post">
    <label for="selectedSupplierXmlSetting">Select Supplier XML Setting:</label>
    <select id="selectedSupplierXmlSetting" name="selectedSupplierXmlSetting">
        <option value="">-- Select --</option>
        @foreach (var setting in Model.SupplierXmlSettings)
        {
            <option value="@setting.SupplierXmlSettingId">@setting.SettingName</option>
        }
    </select>
    <button type="submit">Download xml</button>
</form>

@using (Html.BeginForm("Index", "DownloadPhotos", FormMethod.Post))
{
    <div class="form-group">
        <label>Choose Rename Option:</label>
        <div>
            <label>
                <input type="radio" name="renamePhotos" value="true" checked /> Yes
            </label>
            <label>
                <input type="radio" name="renamePhotos" value="false" /> No
            </label>
        </div>
    </div>

    <div id="renameBlock" style="display: none;">
        <table width="70%">
            <thead>
                <tr>
                    <th>Prefix:</th>
                    <th>Main Part:</th>
                    <th>Suffix:</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input type="text" id="prefix" name="prefix" class="form-control" /></td>
                    <td><input type="text" id="mainPart" name="mainPart" class="form-control" /></td>
                    <td><input type="text" id="suffix" name="suffix" class="form-control" /></td>
                </tr>
            </tbody>
        </table>
        <button type="submit" class="btn btn-primary">Submit</button>
    </div>
}

<h3>Choose folder</h3>
@using (Html.BeginForm("DownloadFromXL", "DownloadPhotos", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <div class="form-group">
        <label for="filePath" class="control-label">Choose folder:</label>
        <select name="filePath" class="form-control" asp-items="@ViewBag.stringPath">
        </select>
    </div>
    <input type="file" id="xmlFile" name="xmlFile" class="form-control" />
    <input type="hidden" asp-action="DownloadFromXL" />
    <button type="submit" class="btn btn-success">Download from Xl</button>
}

@section scripts {
    <script>
        $(document).ready(function () {
            $('input[name="renamePhotos"]').on('change', function () {
                var selectedValue = $(this).val();
                if (selectedValue === "true") {
                    $('#renameBlock').show();
                } else {
                    $('#renameBlock').hide();
                }
            });
        });
    </script>
}
